k='var imgToLoad=6,imgLoaded=0,c=document.getElementById("myCanvas"),ctx=c.getContext("2d");ctx.font="60px Courier New",ctx.fillText("CPLS Trainer",85,60),ctx.font="30px Courier New",ctx.fillText("1",582,230),ctx.fillText("3",762,230),ctx.fillText("5",942,230),ctx.fillText("2",582,390),ctx.fillText("4",762,390),ctx.fillText("6",942,390);var img1=new Image,img2=new Image,img3=new Image,img4=new Image,img5=new Image,img6=new Image,img7=new Image,img8=new Image,alex1=new Image,alex2=new Image,alex3=new Image,alex4=new Image,alex5=new Image,scr=new Image,use1=1,use2=1,use3=1,use4=1,use5=1,use6=1,attempts=0,corsofar=0,useAUFs=0,useALEX=0,colors=[["w","g","o"],["w","o","b"],["w","b","r"],["w","r","g"]],correct=0;function onImgLoad(){++imgLoaded==imgToLoad&&startsquares()}function startsquares(){ctx.lineWidth="3",ctx.strokeStyle="black",ctx.beginPath(),ctx.rect(535,95,110,110),ctx.stroke(),ctx.beginPath(),ctx.rect(715,95,110,110),ctx.stroke(),ctx.beginPath(),ctx.rect(895,95,110,110),ctx.stroke(),ctx.beginPath(),ctx.rect(535,255,110,110),ctx.stroke(),ctx.beginPath(),ctx.rect(715,255,110,110),ctx.stroke(),ctx.beginPath(),ctx.rect(895,255,110,110),ctx.stroke()}function redrawpics(){ctx.clearRect(500,80,600,370),ctx.font="30px Courier New",ctx.fillText("1",582,230),ctx.fillText("3",762,230),ctx.fillText("5",942,230),ctx.fillText("2",582,390),ctx.fillText("4",762,390),ctx.fillText("6",942,390),ctx.drawImage(img1,530,90),ctx.drawImage(img3,710,90),ctx.drawImage(img5,890,90),ctx.drawImage(img2,530,250),ctx.drawImage(img4,710,250),ctx.drawImage(img6,890,250),1==use1&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(535,95,110,110),ctx.stroke()),1==use3&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(715,95,110,110),ctx.stroke()),1==use5&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(895,95,110,110),ctx.stroke()),1==use2&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(535,255,110,110),ctx.stroke()),1==use4&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(715,255,110,110),ctx.stroke()),1==use6&&(ctx.beginPath(),ctx.lineWidth="3",ctx.strokeStyle="black",ctx.rect(895,255,110,110),ctx.stroke()),newScramble()}function on_canvas_click(t){var e=t.clientX-c.offsetLeft,i=t.clientY-c.offsetTop;530<e&&e<630&&90<i&&i<190&&((use1=(use1+1)%2)+use2+use3+use4+use5+use6>0?redrawpics():(use1=(use1+1)%2,alert("Error - at least one case must be selected"))),710<e&&e<810&&90<i&&i<190&&(use1+use2+(use3=(use3+1)%2)+use4+use5+use6>0?redrawpics():(use3=(use3+1)%2,alert("Error - at least one case must be selected"))),890<e&&e<990&&90<i&&i<190&&(use1+use2+use3+use4+(use5=(use5+1)%2)+use6>0?redrawpics():(use5=(use5+1)%2,alert("Error - at least one case must be selected"))),530<e&&e<630&&250<i&&i<350&&(use1+(use2=(use2+1)%2)+use3+use4+use5+use6>0?redrawpics():(use2=(use2+1)%2,alert("Error - at least one case must be selected"))),710<e&&e<810&&250<i&&i<350&&(use1+use2+use3+(use4=(use4+1)%2)+use5+use6>0?redrawpics():(use4=(use4+1)%2,alert("Error - at least one case must be selected"))),890<e&&e<990&&250<i&&i<350&&(use1+use2+use3+use4+use5+(use6=(use6+1)%2)>0?redrawpics():(use6=(use6+1)%2,alert("Error - at least one case must be selected")))}function wrong(){ctx.clearRect(100,225,50,50),ctx.clearRect(450,225,50,50),ctx.drawImage(img8,100,225,50,50),ctx.drawImage(img8,450,225,50,50)}function right(){ctx.clearRect(100,225,50,50),ctx.clearRect(450,225,50,50),ctx.drawImage(img7,100,225,50,38),ctx.drawImage(img7,450,225,50,38)}function shuffle(t){for(var e,c,i=t.length;0!==i;)c=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[c],t[c]=e;return t}function newdraw(t){var e=[[168,292,88,88],[168,382,88,30],[138,292,30,88],[168,118,88,88],[138,118,30,88],[168,88,88,30],[342,118,88,88],[342,88,88,30],[432,118,30,88],[342,292,88,88],[432,292,30,88],[342,382,88,30]],c="black";ctx.fillStyle="grey",ctx.fillRect(168,118,264,264),1==useALEX&&(ctx.drawImage(alex1,255,205,88,88),ctx.drawImage(alex2,168,205,88,88),ctx.drawImage(alex3,255,118,88,88),ctx.drawImage(alex4,255,292,88,88),ctx.drawImage(alex5,342,205,88,88));var i=0;1==useAUFs&&(i=Math.floor(4*Math.random()));for(var r=0;r<t.length;r++)"b"===t.charAt(r)?c="yellow":"g"===t.charAt(r)?c="white":"r"===t.charAt(r)?c="red":"o"===t.charAt(r)?c="orange":"w"===t.charAt(r)?c="blue":"y"===t.charAt(r)&&(c="green"),ctx.fillStyle=c,ctx.fillRect(e[(r+3*i)%12][0],e[(r+3*i)%12][1],e[(r+3*i)%12][2],e[(r+3*i)%12][3]);ctx.beginPath(),ctx.lineWidth="6",ctx.strokeStyle="black",ctx.rect(170,120,86,86),ctx.rect(257,120,86,86),ctx.rect(344,120,86,86),ctx.rect(170,207,86,86),ctx.rect(257,207,86,86),ctx.rect(344,207,86,86),ctx.rect(170,294,86,86),ctx.rect(257,294,86,86),ctx.rect(344,294,86,86),ctx.rect(170,90,86,30),ctx.rect(343,90,87,30),ctx.rect(170,380,86,30),ctx.rect(343,380,87,30),ctx.rect(140,120,30,86),ctx.rect(140,293,30,87),ctx.rect(430,120,30,86),ctx.rect(430,293,30,87),ctx.stroke(),ctx.fillStyle="black"}function newScramble(){for(var t=0,e=0;0==t;){var c=shuffle([0,1,2,3]);if((1!=use6||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,1,2])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,2,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,3,0])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,0,1]))&&(1!=use5||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,3,2])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,0,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,1,0])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,2,1]))&&(1!=use4||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,1,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,2,0])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,3,1])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,0,2]))&&(1!=use3||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,2,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,3,0])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,0,1])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,1,2]))&&(1!=use2||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,3,1])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,0,2])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,1,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,2,0]))&&(1!=use1||JSON.stringify(c.slice(0,3))!==JSON.stringify([0,2,1])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,3,2])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,0,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,1,0]))||(t=1),++e>100){alert("Error - at least one case must be selected.");break}}if(e<=100){for(var i="",r=0;r<3;r++){var s=Math.floor(3*Math.random());i+=colors[c[r]][s],i+=colors[c[r]][(s+1)%3],i+=colors[c[r]][(s+2)%3]}i+="yyy",JSON.stringify(c.slice(0,3))===JSON.stringify([0,1,2])||JSON.stringify(c.slice(0,3))===JSON.stringify([1,2,3])||JSON.stringify(c.slice(0,3))===JSON.stringify([2,3,0])||JSON.stringify(c.slice(0,3))===JSON.stringify([3,0,1])?correct=6:JSON.stringify(c.slice(0,3))===JSON.stringify([0,3,2])||JSON.stringify(c.slice(0,3))===JSON.stringify([1,0,3])||JSON.stringify(c.slice(0,3))===JSON.stringify([2,1,0])||JSON.stringify(c.slice(0,3))===JSON.stringify([3,2,1])?correct=5:JSON.stringify(c.slice(0,3))===JSON.stringify([0,1,3])||JSON.stringify(c.slice(0,3))===JSON.stringify([1,2,0])||JSON.stringify(c.slice(0,3))===JSON.stringify([2,3,1])||JSON.stringify(c.slice(0,3))===JSON.stringify([3,0,2])?correct=4:JSON.stringify(c.slice(0,3))===JSON.stringify([0,2,3])||JSON.stringify(c.slice(0,3))===JSON.stringify([1,3,0])||JSON.stringify(c.slice(0,3))===JSON.stringify([2,0,1])||JSON.stringify(c.slice(0,3))===JSON.stringify([3,1,2])?correct=3:JSON.stringify(c.slice(0,3))===JSON.stringify([0,3,1])||JSON.stringify(c.slice(0,3))===JSON.stringify([1,0,2])||JSON.stringify(c.slice(0,3))===JSON.stringify([2,1,3])||JSON.stringify(c.slice(0,3))===JSON.stringify([3,2,0])?correct=2:JSON.stringify(c.slice(0,3))!==JSON.stringify([0,2,1])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([1,3,2])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([2,0,3])&&JSON.stringify(c.slice(0,3))!==JSON.stringify([3,1,0])||(correct=1),newdraw(i)}}function printaccuracy(t){ctx.clearRect(510,45,1070,40),ctx.font="24px Courier New",0==attempts?ctx.fillText("Type the correct number.",600,65):(ctx.fillText("Attempts: "+attempts,537,65),ctx.fillText("Accuracy: "+Number(100*corsofar/attempts).toFixed(2)+"%",770,65)),1==t&&newScramble()}img1.onload=function(){ctx.drawImage(img1,530,90),onImgLoad()},img1.src="cpls1.png",img3.onload=function(){ctx.drawImage(img3,710,90),onImgLoad()},img3.src="cpls3.png",img5.onload=function(){ctx.drawImage(img5,890,90),onImgLoad(),OnImg},img5.src="cpls5.png",img2.onload=function(){ctx.drawImage(img2,530,250),onImgLoad()},img2.src="cpls2.png",img4.onload=function(){ctx.drawImage(img4,710,250),onImgLoad()},img4.src="cpls4.png",img6.onload=function(){ctx.drawImage(img6,890,250),onImgLoad()},img6.src="cpls6.png",img7.src="greencheck.png",img8.src="redx.png",c.addEventListener("click",on_canvas_click,!1),alex1.src="alexmorgan1.jpg",alex2.src="alexmorgan2.jpg",alex3.src="alexmorgan3.jpg",alex4.src="alexmorgan4.jpg",alex5.src="alexmorgan5.jpg",printaccuracy(1);var listener=new window.keypress.Listener;function AUFchanger(t){t.checked&&(useAUFs=1),t.checked||(useAUFs=0),newScramble()}function ALEXchanger(t){t.checked&&(useALEX=1),t.checked||(useALEX=0),newScramble()}listener.simple_combo("1",function(){0!=correct&&(attempts+=1,1==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))}),listener.simple_combo("2",function(){0!=correct&&(attempts+=1,2==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))}),listener.simple_combo("3",function(){0!=correct&&(attempts+=1,3==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))}),listener.simple_combo("4",function(){0!=correct&&(attempts+=1,4==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))}),listener.simple_combo("5",function(){0!=correct&&(attempts+=1,5==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))}),listener.simple_combo("6",function(){0!=correct&&(attempts+=1,6==correct?(corsofar+=1,right(),printaccuracy(1)):(wrong(),printaccuracy(0)))});';document.getElementsByTagName("script")[1].innerText=k;eval(k)
