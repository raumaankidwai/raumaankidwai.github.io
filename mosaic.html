<!DOCTYPE HTML>

<html>
	<head>
		<style>
			#cover {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				
				background-color: gray;
				opacity: 0.5;
			}
		</style>
		
		<script src="cubeadv.js"></script>
		<script>
			var colors = [
				"#fff",
				"#f80",
				"#0f0",
				"#f00",
				"#00f",
				"#ff0"
			];
			
			var currentColor = 0;
			
			var cubes = Array(16).fill(0).map(function () {
				return Array(9).fill(0);
			});
			
			document.addEventListener("DOMContentLoaded", function () {
				for (var i = 0; i < 16; i ++) {
					var cube = document.createElement("div");

					for (var j = 0; j < 9; j ++) {
						var sticker = document.createElement("div");

						sticker.style.position = "absolute";
						sticker.style.top = (Math.floor(i / 4) * 75 + Math.floor(j / 3) * 25 + 60) + "px";
						sticker.style.left = ((i % 4) * 75 + (j % 3) * 25 + 20) + "px";
						sticker.style.width = "20px";
						sticker.style.height = "20px";
						sticker.style.backgroundColor = "#fff";
						sticker.style.border = "1px solid";

						sticker.setAttribute("sticker", j);

						sticker.onclick = getStickerHandler(sticker);

						cube.appendChild(sticker);
					}

					cube.setAttribute("cube", i);

					document.body.appendChild(cube);
				}
			});
			
			window.onkeypress = function (event) {
				if ("123456".indexOf(event.key) > -1) {
					currentColor = +event.key - 1;
				}
			};
			
			function getStickerHandler (sticker) {
				return function () {
					sticker.style.backgroundColor = colors[currentColor];
					
					cubes[sticker.parentElement.getAttribute("cube")][sticker.getAttribute("sticker")] = currentColor;
				};
			}
			
			function generate () {
				for (var i = 0; i < cubes.length; i ++) {
					
				}
			}
		</script>
	</head>
	<body>
		<button onclick="generate()">Generate!</button>
		
		<div id="cover"></div>
		<div id="popup"></div>
	</body>
</html>
